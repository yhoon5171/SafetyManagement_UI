{"ast":null,"code":"import _slicedToArray from\"/home/ubuntu/SafetyManagement_UI/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useEffect,useState}from\"react\";import{ListGroup,ListGroupItem,Row,Col,Form,FormInput,FormGroup,FormCheckbox,FormSelect,Button}from\"shards-react\";import Connection from'../../blockchain/connection';import\"../../\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"../../styles/shards-dashboards.1.1.0.min.css\";import{Link,useNavigate}from'react-router-dom';import moment from\"moment\";import Axios from'axios';import SignUp from'./SignUp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),inputId=_useState2[0],setinputId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),inputPw=_useState4[0],setinputPw=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),signup=_useState6[0],setsignup=_useState6[1];var navigate=useNavigate();var routeChange=function routeChange(){var path='/connect';navigate(path);};var onClickLogin=function onClickLogin(){Axios.post('http://ec2-52-78-43-195.ap-northeast-2.compute.amazonaws.com:3001/onLogin',null,{params:{'user_id':inputId,'user_pw':inputPw}}).then(function(res){console.log(res);if(res.data.msg)alert(res.data.msg);else{sessionStorage.setItem('user_id',inputId);sessionStorage.setItem('company',res.data.company);}document.location.href='/';}).catch();};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"auth-wrapper\",children:[\"\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"auth-inner\",children:[/*#__PURE__*/_jsx(Link,{to:'/',style:{textDecoration:\"none\"},children:/*#__PURE__*/_jsx(\"h2\",{style:{fontWeight:\"bold\"},children:\"\\xA0\\xA0\\xA0Safety Management\"})}),/*#__PURE__*/_jsx(\"br\",{}),signup?/*#__PURE__*/_jsx(SignUp,{}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ListGroup,{flush:true,children:/*#__PURE__*/_jsx(ListGroupItem,{className:\"p-3\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(FormInput,{id:\"feInputAddress\",size:\"lg\",placeholder:\"\\uC544\\uC774\\uB514\",onChange:function onChange(event){return setinputId(event.target.value);}})}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(FormInput,{type:\"password\",id:\"feInputAddress2\",size:\"lg\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:function onChange(event){return setinputPw(event.target.value);}})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{block:true,size:\"lg\",theme:\"secondary\",className:\"mb-1 mr-1\",onClick:onClickLogin,children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(Button,{block:true,size:\"lg\",theme:\"secondary\",className:\"mb-1 mr-1\",outline:true,onClick:function onClick(event){return setsignup(true);},children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})})})})})})]}),\"\\xA0\\xA0\\xA0\"]})]});}","map":{"version":3,"names":["React","useRef","useEffect","useState","ListGroup","ListGroupItem","Row","Col","Form","FormInput","FormGroup","FormCheckbox","FormSelect","Button","Connection","Link","useNavigate","moment","Axios","SignUp","Login","inputId","setinputId","inputPw","setinputPw","signup","setsignup","navigate","routeChange","path","onClickLogin","post","params","then","res","console","log","data","msg","alert","sessionStorage","setItem","company","document","location","href","catch","textDecoration","fontWeight","event","target","value"],"sources":["/home/ubuntu/SafetyManagement_UI/client/src/components/pages/Login.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\n\nimport {\n  ListGroup,\n  ListGroupItem,\n  Row,\n  Col,\n  Form,\n  FormInput,\n  FormGroup,\n  FormCheckbox,\n  FormSelect,\n  Button\n} from \"shards-react\";\n\nimport Connection from '../../blockchain/connection'\n\nimport \"../../\"\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../../styles/shards-dashboards.1.1.0.min.css\"\n\nimport { Link, useNavigate } from 'react-router-dom'\nimport moment from \"moment\";\nimport Axios from 'axios';\nimport SignUp from './SignUp'\n\nexport default function Login()  {\n    const [inputId, setinputId] = useState(\"\")\n    const [inputPw, setinputPw] = useState(\"\")\n    const [signup, setsignup] = useState(false)\n\n    let navigate = useNavigate();\n    const routeChange = () => {\n        let path = '/connect';\n        navigate(path);\n    }\n\n\n    const onClickLogin = () => {\n        Axios.post('http://ec2-52-78-43-195.ap-northeast-2.compute.amazonaws.com:3001/onLogin', null, {\n            params: {\n            'user_id': inputId,\n            'user_pw': inputPw\n            }\n        })\n        .then(res => {\n            console.log(res)\n            if(res.data.msg)\n                alert(res.data.msg);\n            else{\n                sessionStorage.setItem('user_id', inputId)\n                sessionStorage.setItem('company', res.data.company)\n            }\n            document.location.href = '/'\n        })\n        .catch()\n    }\n\n\n    return (\n    <div className=\"App\">\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n    <div className=\"auth-wrapper\">\n        &nbsp;&nbsp;&nbsp;\n        <div className=\"auth-inner\">\n        <Link to={'/'} style ={{textDecoration: \"none\"}}>\n        <h2 style ={{ \n                        fontWeight: \"bold\"\n                        }}>&nbsp;&nbsp;&nbsp;Safety Management</h2>\n        </Link>\n        <br></br>\n        {\n            signup ? <SignUp />\n            : \n            <div>\n            <ListGroup flush>\n            <ListGroupItem className=\"p-3\">\n                <Row>\n                    <Col>\n                        <form>\n                            <FormGroup>\n                                <FormInput id=\"feInputAddress\" size=\"lg\" placeholder=\"아이디\" onChange = {(event) => setinputId(event.target.value)}/>\n                            </FormGroup>\n\n                            <FormGroup>\n                                <FormInput\n                                type='password'\n                                id=\"feInputAddress2\"\n                                size=\"lg\"\n                                placeholder=\"비밀번호\"\n                                onChange = {(event) => setinputPw(event.target.value)}\n                                />\n                            </FormGroup>\n                            <br></br>\n                            <Button block size=\"lg\" theme=\"secondary\" className=\"mb-1 mr-1\" onClick={onClickLogin}>로그인</Button>\n                            \n                            <Button block size=\"lg\" theme=\"secondary\" className=\"mb-1 mr-1\" outline onClick={(event) => setsignup(true)}>\n                                회원가입\n                            </Button>\n                        </form>\n                    </Col>\n                </Row>\n            </ListGroupItem>\n        </ListGroup>\n        {/* <div className=\"login\">\n            <Button onClick={(event) => setsignup(true)}>\n                <p stlye ={{  left: \"50%\",\n                                top: \"69%\",\n                                transform: \"translate(-50%, -50%)\",\n                                position: \"absolute\",\n                                color: \"#5a6169\"}}>회원가입</p>\n            </Button>\n        </div> */}\n        </div>\n        }\n        \n      </div>\n      &nbsp;&nbsp;&nbsp;\n      </div>\n      </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}