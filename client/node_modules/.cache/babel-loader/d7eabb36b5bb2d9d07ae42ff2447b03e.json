{"ast":null,"code":"/*\r\n This file is part of web3.js.\r\n\r\n web3.js is free software: you can redistribute it and/or modify\r\n it under the terms of the GNU Lesser General Public License as published by\r\n the Free Software Foundation, either version 3 of the License, or\r\n (at your option) any later version.\r\n\r\n web3.js is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public License\r\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\r\n */\n\n/**\r\n * @file index.js\r\n * @author Fabian Vogelsteller <fabian@ethereum.org>\r\n * @date 2017\r\n */\n\"use strict\";\n\nvar core = require('web3-core');\n\nvar helpers = require('web3-core-helpers');\n\nvar Subscriptions = require('web3-core-subscriptions').subscriptions;\n\nvar Method = require('web3-core-method');\n\nvar utils = require('web3-utils');\n\nvar Net = require('web3-net');\n\nvar ENS = require('web3-eth-ens');\n\nvar Personal = require('web3-eth-personal');\n\nvar BaseContract = require('web3-eth-contract');\n\nvar Iban = require('web3-eth-iban');\n\nvar Accounts = require('web3-eth-accounts');\n\nvar abi = require('web3-eth-abi');\n\nvar getNetworkType = require('./getNetworkType.js');\n\nvar formatter = helpers.formatters;\n\nvar blockCall = function (args) {\n  return typeof args[0] === 'string' && args[0].indexOf('0x') === 0 ? \"eth_getBlockByHash\" : \"eth_getBlockByNumber\";\n};\n\nvar transactionFromBlockCall = function (args) {\n  return typeof args[0] === 'string' && args[0].indexOf('0x') === 0 ? 'eth_getTransactionByBlockHashAndIndex' : 'eth_getTransactionByBlockNumberAndIndex';\n};\n\nvar uncleCall = function (args) {\n  return typeof args[0] === 'string' && args[0].indexOf('0x') === 0 ? 'eth_getUncleByBlockHashAndIndex' : 'eth_getUncleByBlockNumberAndIndex';\n};\n\nvar getBlockTransactionCountCall = function (args) {\n  return typeof args[0] === 'string' && args[0].indexOf('0x') === 0 ? 'eth_getBlockTransactionCountByHash' : 'eth_getBlockTransactionCountByNumber';\n};\n\nvar uncleCountCall = function (args) {\n  return typeof args[0] === 'string' && args[0].indexOf('0x') === 0 ? 'eth_getUncleCountByBlockHash' : 'eth_getUncleCountByBlockNumber';\n};\n\nvar Eth = function Eth() {\n  var _this = this; // sets _requestmanager\n\n\n  core.packageInit(this, arguments); // overwrite package setRequestManager\n\n  var setRequestManager = this.setRequestManager;\n\n  this.setRequestManager = function (manager) {\n    setRequestManager(manager);\n\n    _this.net.setRequestManager(manager);\n\n    _this.personal.setRequestManager(manager);\n\n    _this.accounts.setRequestManager(manager);\n\n    _this.Contract._requestManager = _this._requestManager;\n    _this.Contract.currentProvider = _this._provider;\n    return true;\n  }; // overwrite setProvider\n\n\n  var setProvider = this.setProvider;\n\n  this.setProvider = function () {\n    setProvider.apply(_this, arguments);\n\n    _this.setRequestManager(_this._requestManager); // Set detectedAddress/lastSyncCheck back to null because the provider could be connected to a different chain now\n\n\n    _this.ens._detectedAddress = null;\n    _this.ens._lastSyncCheck = null;\n  };\n\n  var handleRevert = false;\n  var defaultAccount = null;\n  var defaultBlock = 'latest';\n  var transactionBlockTimeout = 50;\n  var transactionConfirmationBlocks = 24;\n  var transactionPollingTimeout = 750;\n  var transactionPollingInterval = 1000;\n  var blockHeaderTimeout = 10; // 10 seconds\n\n  var maxListenersWarningThreshold = 100;\n  var defaultChain, defaultHardfork, defaultCommon;\n  Object.defineProperty(this, 'handleRevert', {\n    get: function () {\n      return handleRevert;\n    },\n    set: function (val) {\n      handleRevert = val; // also set on the Contract object\n\n      _this.Contract.handleRevert = handleRevert; // update handleRevert\n\n      methods.forEach(function (method) {\n        method.handleRevert = handleRevert;\n      });\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'defaultCommon', {\n    get: function () {\n      return defaultCommon;\n    },\n    set: function (val) {\n      defaultCommon = val; // also set on the Contract object\n\n      _this.Contract.defaultCommon = defaultCommon; // update defaultBlock\n\n      methods.forEach(function (method) {\n        method.defaultCommon = defaultCommon;\n      });\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'defaultHardfork', {\n    get: function () {\n      return defaultHardfork;\n    },\n    set: function (val) {\n      defaultHardfork = val; // also set on the Contract object\n\n      _this.Contract.defaultHardfork = defaultHardfork; // update defaultBlock\n\n      methods.forEach(function (method) {\n        method.defaultHardfork = defaultHardfork;\n      });\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'defaultChain', {\n    get: function () {\n      return defaultChain;\n    },\n    set: function (val) {\n      defaultChain = val; // also set on the Contract object\n\n      _this.Contract.defaultChain = defaultChain; // update defaultBlock\n\n      methods.forEach(function (method) {\n        method.defaultChain = defaultChain;\n      });\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'transactionPollingTimeout', {\n    get: function () {\n      return transactionPollingTimeout;\n    },\n    set: function (val) {\n      transactionPollingTimeout = val; // also set on the Contract object\n\n      _this.Contract.transactionPollingTimeout = transactionPollingTimeout; // update defaultBlock\n\n      methods.forEach(function (method) {\n        method.transactionPollingTimeout = transactionPollingTimeout;\n      });\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'transactionPollingInterval', {\n    get: function () {\n      return transactionPollingInterval;\n    },\n    set: function (val) {\n      transactionPollingInterval = val; // also set on the Contract object\n\n      _this.Contract.transactionPollingInterval = transactionPollingInterval; // update defaultBlock\n\n      methods.forEach(function (method) {\n        method.transactionPollingInterval = transactionPollingInterval;\n      });\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'transactionConfirmationBlocks', {\n    get: function () {\n      return transactionConfirmationBlocks;\n    },\n    set: function (val) {\n      transactionConfirmationBlocks = val; // also set on the Contract object\n\n      _this.Contract.transactionConfirmationBlocks = transactionConfirmationBlocks; // update defaultBlock\n\n      methods.forEach(function (method) {\n        method.transactionConfirmationBlocks = transactionConfirmationBlocks;\n      });\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'transactionBlockTimeout', {\n    get: function () {\n      return transactionBlockTimeout;\n    },\n    set: function (val) {\n      transactionBlockTimeout = val; // also set on the Contract object\n\n      _this.Contract.transactionBlockTimeout = transactionBlockTimeout; // update defaultBlock\n\n      methods.forEach(function (method) {\n        method.transactionBlockTimeout = transactionBlockTimeout;\n      });\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'blockHeaderTimeout', {\n    get: function () {\n      return blockHeaderTimeout;\n    },\n    set: function (val) {\n      blockHeaderTimeout = val; // also set on the Contract object\n\n      _this.Contract.blockHeaderTimeout = blockHeaderTimeout; // update defaultBlock\n\n      methods.forEach(function (method) {\n        method.blockHeaderTimeout = blockHeaderTimeout;\n      });\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'defaultAccount', {\n    get: function () {\n      return defaultAccount;\n    },\n    set: function (val) {\n      if (val) {\n        defaultAccount = utils.toChecksumAddress(formatter.inputAddressFormatter(val));\n      } // also set on the Contract object\n\n\n      _this.Contract.defaultAccount = defaultAccount;\n      _this.personal.defaultAccount = defaultAccount; // update defaultBlock\n\n      methods.forEach(function (method) {\n        method.defaultAccount = defaultAccount;\n      });\n      return val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'defaultBlock', {\n    get: function () {\n      return defaultBlock;\n    },\n    set: function (val) {\n      defaultBlock = val; // also set on the Contract object\n\n      _this.Contract.defaultBlock = defaultBlock;\n      _this.personal.defaultBlock = defaultBlock; // update defaultBlock\n\n      methods.forEach(function (method) {\n        method.defaultBlock = defaultBlock;\n      });\n      return val;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, 'maxListenersWarningThreshold', {\n    get: function () {\n      return maxListenersWarningThreshold;\n    },\n    set: function (val) {\n      if (_this.currentProvider && _this.currentProvider.setMaxListeners) {\n        maxListenersWarningThreshold = val;\n\n        _this.currentProvider.setMaxListeners(val);\n      }\n    },\n    enumerable: true\n  });\n  this.clearSubscriptions = _this._requestManager.clearSubscriptions.bind(_this._requestManager);\n  this.removeSubscriptionById = _this._requestManager.removeSubscription.bind(_this._requestManager); // add net\n\n  this.net = new Net(this); // add chain detection\n\n  this.net.getNetworkType = getNetworkType.bind(this); // add accounts\n\n  this.accounts = new Accounts(this); // add personal\n\n  this.personal = new Personal(this);\n  this.personal.defaultAccount = this.defaultAccount; // set warnings threshold\n\n  this.maxListenersWarningThreshold = maxListenersWarningThreshold; // create a proxy Contract type for this instance, as a Contract's provider\n  // is stored as a class member rather than an instance variable. If we do\n  // not create this proxy type, changing the provider in one instance of\n  // web3-eth would subsequently change the provider for _all_ contract\n  // instances!\n\n  var self = this;\n\n  var Contract = function Contract() {\n    BaseContract.apply(this, arguments); // when Eth.setProvider is called, call packageInit\n    // on all contract instances instantiated via this Eth\n    // instances. This will update the currentProvider for\n    // the contract instances\n\n    var _this = this;\n\n    var setProvider = self.setProvider;\n\n    self.setProvider = function () {\n      setProvider.apply(self, arguments);\n      core.packageInit(_this, [self]);\n    };\n  };\n\n  Contract.setProvider = function () {\n    BaseContract.setProvider.apply(this, arguments);\n  }; // make our proxy Contract inherit from web3-eth-contract so that it has all\n  // the right functionality and so that instanceof and friends work properly\n\n\n  Contract.prototype = Object.create(BaseContract.prototype);\n  Contract.prototype.constructor = Contract; // add contract\n\n  this.Contract = Contract;\n  this.Contract.defaultAccount = this.defaultAccount;\n  this.Contract.defaultBlock = this.defaultBlock;\n  this.Contract.transactionBlockTimeout = this.transactionBlockTimeout;\n  this.Contract.transactionConfirmationBlocks = this.transactionConfirmationBlocks;\n  this.Contract.transactionPollingTimeout = this.transactionPollingTimeout;\n  this.Contract.transactionPollingInterval = this.transactionPollingInterval;\n  this.Contract.blockHeaderTimeout = this.blockHeaderTimeout;\n  this.Contract.handleRevert = this.handleRevert;\n  this.Contract._requestManager = this._requestManager;\n  this.Contract._ethAccounts = this.accounts;\n  this.Contract.currentProvider = this._requestManager.provider; // add IBAN\n\n  this.Iban = Iban; // add ABI\n\n  this.abi = abi; // add ENS\n\n  this.ens = new ENS(this);\n  var methods = [new Method({\n    name: 'getNodeInfo',\n    call: 'web3_clientVersion'\n  }), new Method({\n    name: 'getProtocolVersion',\n    call: 'eth_protocolVersion',\n    params: 0\n  }), new Method({\n    name: 'getCoinbase',\n    call: 'eth_coinbase',\n    params: 0\n  }), new Method({\n    name: 'isMining',\n    call: 'eth_mining',\n    params: 0\n  }), new Method({\n    name: 'getHashrate',\n    call: 'eth_hashrate',\n    params: 0,\n    outputFormatter: utils.hexToNumber\n  }), new Method({\n    name: 'isSyncing',\n    call: 'eth_syncing',\n    params: 0,\n    outputFormatter: formatter.outputSyncingFormatter\n  }), new Method({\n    name: 'getGasPrice',\n    call: 'eth_gasPrice',\n    params: 0,\n    outputFormatter: formatter.outputBigNumberFormatter\n  }), new Method({\n    name: 'getFeeHistory',\n    call: 'eth_feeHistory',\n    params: 3,\n    inputFormatter: [utils.numberToHex, formatter.inputBlockNumberFormatter, null]\n  }), new Method({\n    name: 'getAccounts',\n    call: 'eth_accounts',\n    params: 0,\n    outputFormatter: utils.toChecksumAddress\n  }), new Method({\n    name: 'getBlockNumber',\n    call: 'eth_blockNumber',\n    params: 0,\n    outputFormatter: utils.hexToNumber\n  }), new Method({\n    name: 'getBalance',\n    call: 'eth_getBalance',\n    params: 2,\n    inputFormatter: [formatter.inputAddressFormatter, formatter.inputDefaultBlockNumberFormatter],\n    outputFormatter: formatter.outputBigNumberFormatter\n  }), new Method({\n    name: 'getStorageAt',\n    call: 'eth_getStorageAt',\n    params: 3,\n    inputFormatter: [formatter.inputAddressFormatter, utils.numberToHex, formatter.inputDefaultBlockNumberFormatter]\n  }), new Method({\n    name: 'getCode',\n    call: 'eth_getCode',\n    params: 2,\n    inputFormatter: [formatter.inputAddressFormatter, formatter.inputDefaultBlockNumberFormatter]\n  }), new Method({\n    name: 'getBlock',\n    call: blockCall,\n    params: 2,\n    inputFormatter: [formatter.inputBlockNumberFormatter, function (val) {\n      return !!val;\n    }],\n    outputFormatter: formatter.outputBlockFormatter\n  }), new Method({\n    name: 'getUncle',\n    call: uncleCall,\n    params: 2,\n    inputFormatter: [formatter.inputBlockNumberFormatter, utils.numberToHex],\n    outputFormatter: formatter.outputBlockFormatter\n  }), new Method({\n    name: 'getBlockTransactionCount',\n    call: getBlockTransactionCountCall,\n    params: 1,\n    inputFormatter: [formatter.inputBlockNumberFormatter],\n    outputFormatter: utils.hexToNumber\n  }), new Method({\n    name: 'getBlockUncleCount',\n    call: uncleCountCall,\n    params: 1,\n    inputFormatter: [formatter.inputBlockNumberFormatter],\n    outputFormatter: utils.hexToNumber\n  }), new Method({\n    name: 'getTransaction',\n    call: 'eth_getTransactionByHash',\n    params: 1,\n    inputFormatter: [null],\n    outputFormatter: formatter.outputTransactionFormatter\n  }), new Method({\n    name: 'getTransactionFromBlock',\n    call: transactionFromBlockCall,\n    params: 2,\n    inputFormatter: [formatter.inputBlockNumberFormatter, utils.numberToHex],\n    outputFormatter: formatter.outputTransactionFormatter\n  }), new Method({\n    name: 'getTransactionReceipt',\n    call: 'eth_getTransactionReceipt',\n    params: 1,\n    inputFormatter: [null],\n    outputFormatter: formatter.outputTransactionReceiptFormatter\n  }), new Method({\n    name: 'getTransactionCount',\n    call: 'eth_getTransactionCount',\n    params: 2,\n    inputFormatter: [formatter.inputAddressFormatter, formatter.inputDefaultBlockNumberFormatter],\n    outputFormatter: utils.hexToNumber\n  }), new Method({\n    name: 'sendSignedTransaction',\n    call: 'eth_sendRawTransaction',\n    params: 1,\n    inputFormatter: [null],\n    abiCoder: abi\n  }), new Method({\n    name: 'signTransaction',\n    call: 'eth_signTransaction',\n    params: 1,\n    inputFormatter: [formatter.inputTransactionFormatter]\n  }), new Method({\n    name: 'sendTransaction',\n    call: 'eth_sendTransaction',\n    params: 1,\n    inputFormatter: [formatter.inputTransactionFormatter],\n    abiCoder: abi\n  }), new Method({\n    name: 'sign',\n    call: 'eth_sign',\n    params: 2,\n    inputFormatter: [formatter.inputSignFormatter, formatter.inputAddressFormatter],\n    transformPayload: function (payload) {\n      payload.params.reverse();\n      return payload;\n    }\n  }), new Method({\n    name: 'call',\n    call: 'eth_call',\n    params: 2,\n    inputFormatter: [formatter.inputCallFormatter, formatter.inputDefaultBlockNumberFormatter],\n    abiCoder: abi\n  }), new Method({\n    name: 'estimateGas',\n    call: 'eth_estimateGas',\n    params: 1,\n    inputFormatter: [formatter.inputCallFormatter],\n    outputFormatter: utils.hexToNumber\n  }), new Method({\n    name: 'submitWork',\n    call: 'eth_submitWork',\n    params: 3\n  }), new Method({\n    name: 'getWork',\n    call: 'eth_getWork',\n    params: 0\n  }), new Method({\n    name: 'getPastLogs',\n    call: 'eth_getLogs',\n    params: 1,\n    inputFormatter: [formatter.inputLogFormatter],\n    outputFormatter: formatter.outputLogFormatter\n  }), new Method({\n    name: 'getChainId',\n    call: 'eth_chainId',\n    params: 0,\n    outputFormatter: utils.hexToNumber\n  }), new Method({\n    name: 'requestAccounts',\n    call: 'eth_requestAccounts',\n    params: 0,\n    outputFormatter: utils.toChecksumAddress\n  }), new Method({\n    name: 'getProof',\n    call: 'eth_getProof',\n    params: 3,\n    inputFormatter: [formatter.inputAddressFormatter, formatter.inputStorageKeysFormatter, formatter.inputDefaultBlockNumberFormatter],\n    outputFormatter: formatter.outputProofFormatter\n  }), new Method({\n    name: 'getPendingTransactions',\n    call: 'eth_pendingTransactions',\n    params: 0,\n    outputFormatter: formatter.outputTransactionFormatter\n  }), new Method({\n    name: 'createAccessList',\n    call: 'eth_createAccessList',\n    params: 2,\n    inputFormatter: [formatter.inputTransactionFormatter, formatter.inputDefaultBlockNumberFormatter]\n  }), // subscriptions\n  new Subscriptions({\n    name: 'subscribe',\n    type: 'eth',\n    subscriptions: {\n      'newBlockHeaders': {\n        // TODO rename on RPC side?\n        subscriptionName: 'newHeads',\n        params: 0,\n        outputFormatter: formatter.outputBlockFormatter\n      },\n      'pendingTransactions': {\n        subscriptionName: 'newPendingTransactions',\n        params: 0\n      },\n      'logs': {\n        params: 1,\n        inputFormatter: [formatter.inputLogFormatter],\n        outputFormatter: formatter.outputLogFormatter,\n        // DUBLICATE, also in web3-eth-contract\n        subscriptionHandler: function (output) {\n          if (output.removed) {\n            this.emit('changed', output);\n          } else {\n            this.emit('data', output);\n          }\n\n          if (typeof this.callback === 'function') {\n            this.callback(null, output, this);\n          }\n        }\n      },\n      'syncing': {\n        params: 0,\n        outputFormatter: formatter.outputSyncingFormatter,\n        subscriptionHandler: function (output) {\n          var _this = this; // fire TRUE at start\n\n\n          if (this._isSyncing !== true) {\n            this._isSyncing = true;\n            this.emit('changed', _this._isSyncing);\n\n            if (typeof this.callback === 'function') {\n              this.callback(null, _this._isSyncing, this);\n            }\n\n            setTimeout(function () {\n              _this.emit('data', output);\n\n              if (typeof _this.callback === 'function') {\n                _this.callback(null, output, _this);\n              }\n            }, 0); // fire sync status\n          } else {\n            this.emit('data', output);\n\n            if (typeof _this.callback === 'function') {\n              this.callback(null, output, this);\n            } // wait for some time before fireing the FALSE\n\n\n            clearTimeout(this._isSyncingTimeout);\n            this._isSyncingTimeout = setTimeout(function () {\n              if (output.currentBlock > output.highestBlock - 200) {\n                _this._isSyncing = false;\n\n                _this.emit('changed', _this._isSyncing);\n\n                if (typeof _this.callback === 'function') {\n                  _this.callback(null, _this._isSyncing, _this);\n                }\n              }\n            }, 500);\n          }\n        }\n      }\n    }\n  })];\n  methods.forEach(function (method) {\n    method.attachToObject(_this);\n    method.setRequestManager(_this._requestManager, _this.accounts); // second param is the eth.accounts module (necessary for signing transactions locally)\n\n    method.defaultBlock = _this.defaultBlock;\n    method.defaultAccount = _this.defaultAccount;\n    method.transactionBlockTimeout = _this.transactionBlockTimeout;\n    method.transactionConfirmationBlocks = _this.transactionConfirmationBlocks;\n    method.transactionPollingTimeout = _this.transactionPollingTimeout;\n    method.transactionPollingInterval = _this.transactionPollingInterval;\n    method.handleRevert = _this.handleRevert;\n  });\n}; // Adds the static givenProvider and providers property to the Eth module\n\n\ncore.addProviders(Eth);\nmodule.exports = Eth;","map":{"version":3,"names":["core","require","helpers","Subscriptions","subscriptions","Method","utils","Net","ENS","Personal","BaseContract","Iban","Accounts","abi","getNetworkType","formatter","formatters","blockCall","args","indexOf","transactionFromBlockCall","uncleCall","getBlockTransactionCountCall","uncleCountCall","Eth","_this","packageInit","arguments","setRequestManager","manager","net","personal","accounts","Contract","_requestManager","currentProvider","_provider","setProvider","apply","ens","_detectedAddress","_lastSyncCheck","handleRevert","defaultAccount","defaultBlock","transactionBlockTimeout","transactionConfirmationBlocks","transactionPollingTimeout","transactionPollingInterval","blockHeaderTimeout","maxListenersWarningThreshold","defaultChain","defaultHardfork","defaultCommon","Object","defineProperty","get","set","val","methods","forEach","method","enumerable","toChecksumAddress","inputAddressFormatter","setMaxListeners","clearSubscriptions","bind","removeSubscriptionById","removeSubscription","self","prototype","create","constructor","_ethAccounts","provider","name","call","params","outputFormatter","hexToNumber","outputSyncingFormatter","outputBigNumberFormatter","inputFormatter","numberToHex","inputBlockNumberFormatter","inputDefaultBlockNumberFormatter","outputBlockFormatter","outputTransactionFormatter","outputTransactionReceiptFormatter","abiCoder","inputTransactionFormatter","inputSignFormatter","transformPayload","payload","reverse","inputCallFormatter","inputLogFormatter","outputLogFormatter","inputStorageKeysFormatter","outputProofFormatter","type","subscriptionName","subscriptionHandler","output","removed","emit","callback","_isSyncing","setTimeout","clearTimeout","_isSyncingTimeout","currentBlock","highestBlock","attachToObject","addProviders","module","exports"],"sources":["C:/Users/mcnl/Desktop/gong/BlockchainSafetyManagement/client/node_modules/web3-eth/lib/index.js"],"sourcesContent":["/*\r\n This file is part of web3.js.\r\n\r\n web3.js is free software: you can redistribute it and/or modify\r\n it under the terms of the GNU Lesser General Public License as published by\r\n the Free Software Foundation, either version 3 of the License, or\r\n (at your option) any later version.\r\n\r\n web3.js is distributed in the hope that it will be useful,\r\n but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n GNU Lesser General Public License for more details.\r\n\r\n You should have received a copy of the GNU Lesser General Public License\r\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n/**\r\n * @file index.js\r\n * @author Fabian Vogelsteller <fabian@ethereum.org>\r\n * @date 2017\r\n */\r\n\"use strict\";\r\nvar core = require('web3-core');\r\nvar helpers = require('web3-core-helpers');\r\nvar Subscriptions = require('web3-core-subscriptions').subscriptions;\r\nvar Method = require('web3-core-method');\r\nvar utils = require('web3-utils');\r\nvar Net = require('web3-net');\r\nvar ENS = require('web3-eth-ens');\r\nvar Personal = require('web3-eth-personal');\r\nvar BaseContract = require('web3-eth-contract');\r\nvar Iban = require('web3-eth-iban');\r\nvar Accounts = require('web3-eth-accounts');\r\nvar abi = require('web3-eth-abi');\r\nvar getNetworkType = require('./getNetworkType.js');\r\nvar formatter = helpers.formatters;\r\nvar blockCall = function (args) {\r\n    return (typeof args[0] === 'string' && args[0].indexOf('0x') === 0) ? \"eth_getBlockByHash\" : \"eth_getBlockByNumber\";\r\n};\r\nvar transactionFromBlockCall = function (args) {\r\n    return (typeof args[0] === 'string' && args[0].indexOf('0x') === 0) ? 'eth_getTransactionByBlockHashAndIndex' : 'eth_getTransactionByBlockNumberAndIndex';\r\n};\r\nvar uncleCall = function (args) {\r\n    return (typeof args[0] === 'string' && args[0].indexOf('0x') === 0) ? 'eth_getUncleByBlockHashAndIndex' : 'eth_getUncleByBlockNumberAndIndex';\r\n};\r\nvar getBlockTransactionCountCall = function (args) {\r\n    return (typeof args[0] === 'string' && args[0].indexOf('0x') === 0) ? 'eth_getBlockTransactionCountByHash' : 'eth_getBlockTransactionCountByNumber';\r\n};\r\nvar uncleCountCall = function (args) {\r\n    return (typeof args[0] === 'string' && args[0].indexOf('0x') === 0) ? 'eth_getUncleCountByBlockHash' : 'eth_getUncleCountByBlockNumber';\r\n};\r\nvar Eth = function Eth() {\r\n    var _this = this;\r\n    // sets _requestmanager\r\n    core.packageInit(this, arguments);\r\n    // overwrite package setRequestManager\r\n    var setRequestManager = this.setRequestManager;\r\n    this.setRequestManager = function (manager) {\r\n        setRequestManager(manager);\r\n        _this.net.setRequestManager(manager);\r\n        _this.personal.setRequestManager(manager);\r\n        _this.accounts.setRequestManager(manager);\r\n        _this.Contract._requestManager = _this._requestManager;\r\n        _this.Contract.currentProvider = _this._provider;\r\n        return true;\r\n    };\r\n    // overwrite setProvider\r\n    var setProvider = this.setProvider;\r\n    this.setProvider = function () {\r\n        setProvider.apply(_this, arguments);\r\n        _this.setRequestManager(_this._requestManager);\r\n        // Set detectedAddress/lastSyncCheck back to null because the provider could be connected to a different chain now\r\n        _this.ens._detectedAddress = null;\r\n        _this.ens._lastSyncCheck = null;\r\n    };\r\n    var handleRevert = false;\r\n    var defaultAccount = null;\r\n    var defaultBlock = 'latest';\r\n    var transactionBlockTimeout = 50;\r\n    var transactionConfirmationBlocks = 24;\r\n    var transactionPollingTimeout = 750;\r\n    var transactionPollingInterval = 1000;\r\n    var blockHeaderTimeout = 10; // 10 seconds\r\n    var maxListenersWarningThreshold = 100;\r\n    var defaultChain, defaultHardfork, defaultCommon;\r\n    Object.defineProperty(this, 'handleRevert', {\r\n        get: function () {\r\n            return handleRevert;\r\n        },\r\n        set: function (val) {\r\n            handleRevert = val;\r\n            // also set on the Contract object\r\n            _this.Contract.handleRevert = handleRevert;\r\n            // update handleRevert\r\n            methods.forEach(function (method) {\r\n                method.handleRevert = handleRevert;\r\n            });\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'defaultCommon', {\r\n        get: function () {\r\n            return defaultCommon;\r\n        },\r\n        set: function (val) {\r\n            defaultCommon = val;\r\n            // also set on the Contract object\r\n            _this.Contract.defaultCommon = defaultCommon;\r\n            // update defaultBlock\r\n            methods.forEach(function (method) {\r\n                method.defaultCommon = defaultCommon;\r\n            });\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'defaultHardfork', {\r\n        get: function () {\r\n            return defaultHardfork;\r\n        },\r\n        set: function (val) {\r\n            defaultHardfork = val;\r\n            // also set on the Contract object\r\n            _this.Contract.defaultHardfork = defaultHardfork;\r\n            // update defaultBlock\r\n            methods.forEach(function (method) {\r\n                method.defaultHardfork = defaultHardfork;\r\n            });\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'defaultChain', {\r\n        get: function () {\r\n            return defaultChain;\r\n        },\r\n        set: function (val) {\r\n            defaultChain = val;\r\n            // also set on the Contract object\r\n            _this.Contract.defaultChain = defaultChain;\r\n            // update defaultBlock\r\n            methods.forEach(function (method) {\r\n                method.defaultChain = defaultChain;\r\n            });\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'transactionPollingTimeout', {\r\n        get: function () {\r\n            return transactionPollingTimeout;\r\n        },\r\n        set: function (val) {\r\n            transactionPollingTimeout = val;\r\n            // also set on the Contract object\r\n            _this.Contract.transactionPollingTimeout = transactionPollingTimeout;\r\n            // update defaultBlock\r\n            methods.forEach(function (method) {\r\n                method.transactionPollingTimeout = transactionPollingTimeout;\r\n            });\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'transactionPollingInterval', {\r\n        get: function () {\r\n            return transactionPollingInterval;\r\n        },\r\n        set: function (val) {\r\n            transactionPollingInterval = val;\r\n            // also set on the Contract object\r\n            _this.Contract.transactionPollingInterval = transactionPollingInterval;\r\n            // update defaultBlock\r\n            methods.forEach(function (method) {\r\n                method.transactionPollingInterval = transactionPollingInterval;\r\n            });\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'transactionConfirmationBlocks', {\r\n        get: function () {\r\n            return transactionConfirmationBlocks;\r\n        },\r\n        set: function (val) {\r\n            transactionConfirmationBlocks = val;\r\n            // also set on the Contract object\r\n            _this.Contract.transactionConfirmationBlocks = transactionConfirmationBlocks;\r\n            // update defaultBlock\r\n            methods.forEach(function (method) {\r\n                method.transactionConfirmationBlocks = transactionConfirmationBlocks;\r\n            });\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'transactionBlockTimeout', {\r\n        get: function () {\r\n            return transactionBlockTimeout;\r\n        },\r\n        set: function (val) {\r\n            transactionBlockTimeout = val;\r\n            // also set on the Contract object\r\n            _this.Contract.transactionBlockTimeout = transactionBlockTimeout;\r\n            // update defaultBlock\r\n            methods.forEach(function (method) {\r\n                method.transactionBlockTimeout = transactionBlockTimeout;\r\n            });\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'blockHeaderTimeout', {\r\n        get: function () {\r\n            return blockHeaderTimeout;\r\n        },\r\n        set: function (val) {\r\n            blockHeaderTimeout = val;\r\n            // also set on the Contract object\r\n            _this.Contract.blockHeaderTimeout = blockHeaderTimeout;\r\n            // update defaultBlock\r\n            methods.forEach(function (method) {\r\n                method.blockHeaderTimeout = blockHeaderTimeout;\r\n            });\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'defaultAccount', {\r\n        get: function () {\r\n            return defaultAccount;\r\n        },\r\n        set: function (val) {\r\n            if (val) {\r\n                defaultAccount = utils.toChecksumAddress(formatter.inputAddressFormatter(val));\r\n            }\r\n            // also set on the Contract object\r\n            _this.Contract.defaultAccount = defaultAccount;\r\n            _this.personal.defaultAccount = defaultAccount;\r\n            // update defaultBlock\r\n            methods.forEach(function (method) {\r\n                method.defaultAccount = defaultAccount;\r\n            });\r\n            return val;\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'defaultBlock', {\r\n        get: function () {\r\n            return defaultBlock;\r\n        },\r\n        set: function (val) {\r\n            defaultBlock = val;\r\n            // also set on the Contract object\r\n            _this.Contract.defaultBlock = defaultBlock;\r\n            _this.personal.defaultBlock = defaultBlock;\r\n            // update defaultBlock\r\n            methods.forEach(function (method) {\r\n                method.defaultBlock = defaultBlock;\r\n            });\r\n            return val;\r\n        },\r\n        enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'maxListenersWarningThreshold', {\r\n        get: function () {\r\n            return maxListenersWarningThreshold;\r\n        },\r\n        set: function (val) {\r\n            if (_this.currentProvider && _this.currentProvider.setMaxListeners) {\r\n                maxListenersWarningThreshold = val;\r\n                _this.currentProvider.setMaxListeners(val);\r\n            }\r\n        },\r\n        enumerable: true\r\n    });\r\n    this.clearSubscriptions = _this._requestManager.clearSubscriptions.bind(_this._requestManager);\r\n    this.removeSubscriptionById = _this._requestManager.removeSubscription.bind(_this._requestManager);\r\n    // add net\r\n    this.net = new Net(this);\r\n    // add chain detection\r\n    this.net.getNetworkType = getNetworkType.bind(this);\r\n    // add accounts\r\n    this.accounts = new Accounts(this);\r\n    // add personal\r\n    this.personal = new Personal(this);\r\n    this.personal.defaultAccount = this.defaultAccount;\r\n    // set warnings threshold\r\n    this.maxListenersWarningThreshold = maxListenersWarningThreshold;\r\n    // create a proxy Contract type for this instance, as a Contract's provider\r\n    // is stored as a class member rather than an instance variable. If we do\r\n    // not create this proxy type, changing the provider in one instance of\r\n    // web3-eth would subsequently change the provider for _all_ contract\r\n    // instances!\r\n    var self = this;\r\n    var Contract = function Contract() {\r\n        BaseContract.apply(this, arguments);\r\n        // when Eth.setProvider is called, call packageInit\r\n        // on all contract instances instantiated via this Eth\r\n        // instances. This will update the currentProvider for\r\n        // the contract instances\r\n        var _this = this;\r\n        var setProvider = self.setProvider;\r\n        self.setProvider = function () {\r\n            setProvider.apply(self, arguments);\r\n            core.packageInit(_this, [self]);\r\n        };\r\n    };\r\n    Contract.setProvider = function () {\r\n        BaseContract.setProvider.apply(this, arguments);\r\n    };\r\n    // make our proxy Contract inherit from web3-eth-contract so that it has all\r\n    // the right functionality and so that instanceof and friends work properly\r\n    Contract.prototype = Object.create(BaseContract.prototype);\r\n    Contract.prototype.constructor = Contract;\r\n    // add contract\r\n    this.Contract = Contract;\r\n    this.Contract.defaultAccount = this.defaultAccount;\r\n    this.Contract.defaultBlock = this.defaultBlock;\r\n    this.Contract.transactionBlockTimeout = this.transactionBlockTimeout;\r\n    this.Contract.transactionConfirmationBlocks = this.transactionConfirmationBlocks;\r\n    this.Contract.transactionPollingTimeout = this.transactionPollingTimeout;\r\n    this.Contract.transactionPollingInterval = this.transactionPollingInterval;\r\n    this.Contract.blockHeaderTimeout = this.blockHeaderTimeout;\r\n    this.Contract.handleRevert = this.handleRevert;\r\n    this.Contract._requestManager = this._requestManager;\r\n    this.Contract._ethAccounts = this.accounts;\r\n    this.Contract.currentProvider = this._requestManager.provider;\r\n    // add IBAN\r\n    this.Iban = Iban;\r\n    // add ABI\r\n    this.abi = abi;\r\n    // add ENS\r\n    this.ens = new ENS(this);\r\n    var methods = [\r\n        new Method({\r\n            name: 'getNodeInfo',\r\n            call: 'web3_clientVersion'\r\n        }),\r\n        new Method({\r\n            name: 'getProtocolVersion',\r\n            call: 'eth_protocolVersion',\r\n            params: 0\r\n        }),\r\n        new Method({\r\n            name: 'getCoinbase',\r\n            call: 'eth_coinbase',\r\n            params: 0\r\n        }),\r\n        new Method({\r\n            name: 'isMining',\r\n            call: 'eth_mining',\r\n            params: 0\r\n        }),\r\n        new Method({\r\n            name: 'getHashrate',\r\n            call: 'eth_hashrate',\r\n            params: 0,\r\n            outputFormatter: utils.hexToNumber\r\n        }),\r\n        new Method({\r\n            name: 'isSyncing',\r\n            call: 'eth_syncing',\r\n            params: 0,\r\n            outputFormatter: formatter.outputSyncingFormatter\r\n        }),\r\n        new Method({\r\n            name: 'getGasPrice',\r\n            call: 'eth_gasPrice',\r\n            params: 0,\r\n            outputFormatter: formatter.outputBigNumberFormatter\r\n        }),\r\n        new Method({\r\n            name: 'getFeeHistory',\r\n            call: 'eth_feeHistory',\r\n            params: 3,\r\n            inputFormatter: [utils.numberToHex, formatter.inputBlockNumberFormatter, null]\r\n        }),\r\n        new Method({\r\n            name: 'getAccounts',\r\n            call: 'eth_accounts',\r\n            params: 0,\r\n            outputFormatter: utils.toChecksumAddress\r\n        }),\r\n        new Method({\r\n            name: 'getBlockNumber',\r\n            call: 'eth_blockNumber',\r\n            params: 0,\r\n            outputFormatter: utils.hexToNumber\r\n        }),\r\n        new Method({\r\n            name: 'getBalance',\r\n            call: 'eth_getBalance',\r\n            params: 2,\r\n            inputFormatter: [formatter.inputAddressFormatter, formatter.inputDefaultBlockNumberFormatter],\r\n            outputFormatter: formatter.outputBigNumberFormatter\r\n        }),\r\n        new Method({\r\n            name: 'getStorageAt',\r\n            call: 'eth_getStorageAt',\r\n            params: 3,\r\n            inputFormatter: [formatter.inputAddressFormatter, utils.numberToHex, formatter.inputDefaultBlockNumberFormatter]\r\n        }),\r\n        new Method({\r\n            name: 'getCode',\r\n            call: 'eth_getCode',\r\n            params: 2,\r\n            inputFormatter: [formatter.inputAddressFormatter, formatter.inputDefaultBlockNumberFormatter]\r\n        }),\r\n        new Method({\r\n            name: 'getBlock',\r\n            call: blockCall,\r\n            params: 2,\r\n            inputFormatter: [formatter.inputBlockNumberFormatter, function (val) { return !!val; }],\r\n            outputFormatter: formatter.outputBlockFormatter\r\n        }),\r\n        new Method({\r\n            name: 'getUncle',\r\n            call: uncleCall,\r\n            params: 2,\r\n            inputFormatter: [formatter.inputBlockNumberFormatter, utils.numberToHex],\r\n            outputFormatter: formatter.outputBlockFormatter,\r\n        }),\r\n        new Method({\r\n            name: 'getBlockTransactionCount',\r\n            call: getBlockTransactionCountCall,\r\n            params: 1,\r\n            inputFormatter: [formatter.inputBlockNumberFormatter],\r\n            outputFormatter: utils.hexToNumber\r\n        }),\r\n        new Method({\r\n            name: 'getBlockUncleCount',\r\n            call: uncleCountCall,\r\n            params: 1,\r\n            inputFormatter: [formatter.inputBlockNumberFormatter],\r\n            outputFormatter: utils.hexToNumber\r\n        }),\r\n        new Method({\r\n            name: 'getTransaction',\r\n            call: 'eth_getTransactionByHash',\r\n            params: 1,\r\n            inputFormatter: [null],\r\n            outputFormatter: formatter.outputTransactionFormatter\r\n        }),\r\n        new Method({\r\n            name: 'getTransactionFromBlock',\r\n            call: transactionFromBlockCall,\r\n            params: 2,\r\n            inputFormatter: [formatter.inputBlockNumberFormatter, utils.numberToHex],\r\n            outputFormatter: formatter.outputTransactionFormatter\r\n        }),\r\n        new Method({\r\n            name: 'getTransactionReceipt',\r\n            call: 'eth_getTransactionReceipt',\r\n            params: 1,\r\n            inputFormatter: [null],\r\n            outputFormatter: formatter.outputTransactionReceiptFormatter\r\n        }),\r\n        new Method({\r\n            name: 'getTransactionCount',\r\n            call: 'eth_getTransactionCount',\r\n            params: 2,\r\n            inputFormatter: [formatter.inputAddressFormatter, formatter.inputDefaultBlockNumberFormatter],\r\n            outputFormatter: utils.hexToNumber\r\n        }),\r\n        new Method({\r\n            name: 'sendSignedTransaction',\r\n            call: 'eth_sendRawTransaction',\r\n            params: 1,\r\n            inputFormatter: [null],\r\n            abiCoder: abi\r\n        }),\r\n        new Method({\r\n            name: 'signTransaction',\r\n            call: 'eth_signTransaction',\r\n            params: 1,\r\n            inputFormatter: [formatter.inputTransactionFormatter]\r\n        }),\r\n        new Method({\r\n            name: 'sendTransaction',\r\n            call: 'eth_sendTransaction',\r\n            params: 1,\r\n            inputFormatter: [formatter.inputTransactionFormatter],\r\n            abiCoder: abi\r\n        }),\r\n        new Method({\r\n            name: 'sign',\r\n            call: 'eth_sign',\r\n            params: 2,\r\n            inputFormatter: [formatter.inputSignFormatter, formatter.inputAddressFormatter],\r\n            transformPayload: function (payload) {\r\n                payload.params.reverse();\r\n                return payload;\r\n            }\r\n        }),\r\n        new Method({\r\n            name: 'call',\r\n            call: 'eth_call',\r\n            params: 2,\r\n            inputFormatter: [formatter.inputCallFormatter, formatter.inputDefaultBlockNumberFormatter],\r\n            abiCoder: abi\r\n        }),\r\n        new Method({\r\n            name: 'estimateGas',\r\n            call: 'eth_estimateGas',\r\n            params: 1,\r\n            inputFormatter: [formatter.inputCallFormatter],\r\n            outputFormatter: utils.hexToNumber\r\n        }),\r\n        new Method({\r\n            name: 'submitWork',\r\n            call: 'eth_submitWork',\r\n            params: 3\r\n        }),\r\n        new Method({\r\n            name: 'getWork',\r\n            call: 'eth_getWork',\r\n            params: 0\r\n        }),\r\n        new Method({\r\n            name: 'getPastLogs',\r\n            call: 'eth_getLogs',\r\n            params: 1,\r\n            inputFormatter: [formatter.inputLogFormatter],\r\n            outputFormatter: formatter.outputLogFormatter\r\n        }),\r\n        new Method({\r\n            name: 'getChainId',\r\n            call: 'eth_chainId',\r\n            params: 0,\r\n            outputFormatter: utils.hexToNumber\r\n        }),\r\n        new Method({\r\n            name: 'requestAccounts',\r\n            call: 'eth_requestAccounts',\r\n            params: 0,\r\n            outputFormatter: utils.toChecksumAddress\r\n        }),\r\n        new Method({\r\n            name: 'getProof',\r\n            call: 'eth_getProof',\r\n            params: 3,\r\n            inputFormatter: [formatter.inputAddressFormatter, formatter.inputStorageKeysFormatter, formatter.inputDefaultBlockNumberFormatter],\r\n            outputFormatter: formatter.outputProofFormatter\r\n        }),\r\n        new Method({\r\n            name: 'getPendingTransactions',\r\n            call: 'eth_pendingTransactions',\r\n            params: 0,\r\n            outputFormatter: formatter.outputTransactionFormatter\r\n        }),\r\n        new Method({\r\n            name: 'createAccessList',\r\n            call: 'eth_createAccessList',\r\n            params: 2,\r\n            inputFormatter: [formatter.inputTransactionFormatter, formatter.inputDefaultBlockNumberFormatter],\r\n        }),\r\n        // subscriptions\r\n        new Subscriptions({\r\n            name: 'subscribe',\r\n            type: 'eth',\r\n            subscriptions: {\r\n                'newBlockHeaders': {\r\n                    // TODO rename on RPC side?\r\n                    subscriptionName: 'newHeads',\r\n                    params: 0,\r\n                    outputFormatter: formatter.outputBlockFormatter\r\n                },\r\n                'pendingTransactions': {\r\n                    subscriptionName: 'newPendingTransactions',\r\n                    params: 0\r\n                },\r\n                'logs': {\r\n                    params: 1,\r\n                    inputFormatter: [formatter.inputLogFormatter],\r\n                    outputFormatter: formatter.outputLogFormatter,\r\n                    // DUBLICATE, also in web3-eth-contract\r\n                    subscriptionHandler: function (output) {\r\n                        if (output.removed) {\r\n                            this.emit('changed', output);\r\n                        }\r\n                        else {\r\n                            this.emit('data', output);\r\n                        }\r\n                        if (typeof this.callback === 'function') {\r\n                            this.callback(null, output, this);\r\n                        }\r\n                    }\r\n                },\r\n                'syncing': {\r\n                    params: 0,\r\n                    outputFormatter: formatter.outputSyncingFormatter,\r\n                    subscriptionHandler: function (output) {\r\n                        var _this = this;\r\n                        // fire TRUE at start\r\n                        if (this._isSyncing !== true) {\r\n                            this._isSyncing = true;\r\n                            this.emit('changed', _this._isSyncing);\r\n                            if (typeof this.callback === 'function') {\r\n                                this.callback(null, _this._isSyncing, this);\r\n                            }\r\n                            setTimeout(function () {\r\n                                _this.emit('data', output);\r\n                                if (typeof _this.callback === 'function') {\r\n                                    _this.callback(null, output, _this);\r\n                                }\r\n                            }, 0);\r\n                            // fire sync status\r\n                        }\r\n                        else {\r\n                            this.emit('data', output);\r\n                            if (typeof _this.callback === 'function') {\r\n                                this.callback(null, output, this);\r\n                            }\r\n                            // wait for some time before fireing the FALSE\r\n                            clearTimeout(this._isSyncingTimeout);\r\n                            this._isSyncingTimeout = setTimeout(function () {\r\n                                if (output.currentBlock > output.highestBlock - 200) {\r\n                                    _this._isSyncing = false;\r\n                                    _this.emit('changed', _this._isSyncing);\r\n                                    if (typeof _this.callback === 'function') {\r\n                                        _this.callback(null, _this._isSyncing, _this);\r\n                                    }\r\n                                }\r\n                            }, 500);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    ];\r\n    methods.forEach(function (method) {\r\n        method.attachToObject(_this);\r\n        method.setRequestManager(_this._requestManager, _this.accounts); // second param is the eth.accounts module (necessary for signing transactions locally)\r\n        method.defaultBlock = _this.defaultBlock;\r\n        method.defaultAccount = _this.defaultAccount;\r\n        method.transactionBlockTimeout = _this.transactionBlockTimeout;\r\n        method.transactionConfirmationBlocks = _this.transactionConfirmationBlocks;\r\n        method.transactionPollingTimeout = _this.transactionPollingTimeout;\r\n        method.transactionPollingInterval = _this.transactionPollingInterval;\r\n        method.handleRevert = _this.handleRevert;\r\n    });\r\n};\r\n// Adds the static givenProvider and providers property to the Eth module\r\ncore.addProviders(Eth);\r\nmodule.exports = Eth;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}