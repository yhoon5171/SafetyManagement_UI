{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar bytes_1 = require(\"./bytes\");\n\nvar UnicodeNormalizationForm;\n\n(function (UnicodeNormalizationForm) {\n  UnicodeNormalizationForm[\"current\"] = \"\";\n  UnicodeNormalizationForm[\"NFC\"] = \"NFC\";\n  UnicodeNormalizationForm[\"NFD\"] = \"NFD\";\n  UnicodeNormalizationForm[\"NFKC\"] = \"NFKC\";\n  UnicodeNormalizationForm[\"NFKD\"] = \"NFKD\";\n})(UnicodeNormalizationForm = exports.UnicodeNormalizationForm || (exports.UnicodeNormalizationForm = {}));\n\n; // http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\n\nfunction toUtf8Bytes(str, form) {\n  if (form === void 0) {\n    form = UnicodeNormalizationForm.current;\n  }\n\n  if (form != UnicodeNormalizationForm.current) {\n    str = str.normalize(form);\n  }\n\n  var result = [];\n  var offset = 0;\n\n  for (var i = 0; i < str.length; i++) {\n    var c = str.charCodeAt(i);\n\n    if (c < 128) {\n      result[offset++] = c;\n    } else if (c < 2048) {\n      result[offset++] = c >> 6 | 192;\n      result[offset++] = c & 63 | 128;\n    } else if ((c & 0xFC00) == 0xD800 && i + 1 < str.length && (str.charCodeAt(i + 1) & 0xFC00) == 0xDC00) {\n      // Surrogate Pair\n      c = 0x10000 + ((c & 0x03FF) << 10) + (str.charCodeAt(++i) & 0x03FF);\n      result[offset++] = c >> 18 | 240;\n      result[offset++] = c >> 12 & 63 | 128;\n      result[offset++] = c >> 6 & 63 | 128;\n      result[offset++] = c & 63 | 128;\n    } else {\n      result[offset++] = c >> 12 | 224;\n      result[offset++] = c >> 6 & 63 | 128;\n      result[offset++] = c & 63 | 128;\n    }\n  }\n\n  return bytes_1.arrayify(result);\n}\n\nexports.toUtf8Bytes = toUtf8Bytes;\n; // http://stackoverflow.com/questions/13356493/decode-utf-8-with-javascript#13691499\n\nfunction toUtf8String(bytes) {\n  bytes = bytes_1.arrayify(bytes);\n  var result = '';\n  var i = 0; // Invalid bytes are ignored\n\n  while (i < bytes.length) {\n    var c = bytes[i++];\n\n    if (c >> 7 == 0) {\n      // 0xxx xxxx\n      result += String.fromCharCode(c);\n      continue;\n    } // Invalid starting byte\n\n\n    if (c >> 6 == 0x02) {\n      continue;\n    } // Multibyte; how many bytes left for thus character?\n\n\n    var extraLength = null;\n\n    if (c >> 5 == 0x06) {\n      extraLength = 1;\n    } else if (c >> 4 == 0x0e) {\n      extraLength = 2;\n    } else if (c >> 3 == 0x1e) {\n      extraLength = 3;\n    } else if (c >> 2 == 0x3e) {\n      extraLength = 4;\n    } else if (c >> 1 == 0x7e) {\n      extraLength = 5;\n    } else {\n      continue;\n    } // Do we have enough bytes in our data?\n\n\n    if (i + extraLength > bytes.length) {\n      // If there is an invalid unprocessed byte, try to continue\n      for (; i < bytes.length; i++) {\n        if (bytes[i] >> 6 != 0x02) {\n          break;\n        }\n      }\n\n      if (i != bytes.length) continue; // All leftover bytes are valid.\n\n      return result;\n    } // Remove the UTF-8 prefix from the char (res)\n\n\n    var res = c & (1 << 8 - extraLength - 1) - 1;\n    var count;\n\n    for (count = 0; count < extraLength; count++) {\n      var nextChar = bytes[i++]; // Is the char valid multibyte part?\n\n      if (nextChar >> 6 != 0x02) {\n        break;\n      }\n\n      ;\n      res = res << 6 | nextChar & 0x3f;\n    }\n\n    if (count != extraLength) {\n      i--;\n      continue;\n    }\n\n    if (res <= 0xffff) {\n      result += String.fromCharCode(res);\n      continue;\n    }\n\n    res -= 0x10000;\n    result += String.fromCharCode((res >> 10 & 0x3ff) + 0xd800, (res & 0x3ff) + 0xdc00);\n  }\n\n  return result;\n}\n\nexports.toUtf8String = toUtf8String;","map":{"version":3,"names":["Object","defineProperty","exports","value","bytes_1","require","UnicodeNormalizationForm","toUtf8Bytes","str","form","current","normalize","result","offset","i","length","c","charCodeAt","arrayify","toUtf8String","bytes","String","fromCharCode","extraLength","res","count","nextChar"],"sources":["D:/BlockchainSafetyManagement/client/node_modules/truffle-contract/node_modules/ethers/utils/utf8.js"],"sourcesContent":["'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar bytes_1 = require(\"./bytes\");\r\nvar UnicodeNormalizationForm;\r\n(function (UnicodeNormalizationForm) {\r\n    UnicodeNormalizationForm[\"current\"] = \"\";\r\n    UnicodeNormalizationForm[\"NFC\"] = \"NFC\";\r\n    UnicodeNormalizationForm[\"NFD\"] = \"NFD\";\r\n    UnicodeNormalizationForm[\"NFKC\"] = \"NFKC\";\r\n    UnicodeNormalizationForm[\"NFKD\"] = \"NFKD\";\r\n})(UnicodeNormalizationForm = exports.UnicodeNormalizationForm || (exports.UnicodeNormalizationForm = {}));\r\n;\r\n// http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\r\nfunction toUtf8Bytes(str, form) {\r\n    if (form === void 0) { form = UnicodeNormalizationForm.current; }\r\n    if (form != UnicodeNormalizationForm.current) {\r\n        str = str.normalize(form);\r\n    }\r\n    var result = [];\r\n    var offset = 0;\r\n    for (var i = 0; i < str.length; i++) {\r\n        var c = str.charCodeAt(i);\r\n        if (c < 128) {\r\n            result[offset++] = c;\r\n        }\r\n        else if (c < 2048) {\r\n            result[offset++] = (c >> 6) | 192;\r\n            result[offset++] = (c & 63) | 128;\r\n        }\r\n        else if (((c & 0xFC00) == 0xD800) && (i + 1) < str.length && ((str.charCodeAt(i + 1) & 0xFC00) == 0xDC00)) {\r\n            // Surrogate Pair\r\n            c = 0x10000 + ((c & 0x03FF) << 10) + (str.charCodeAt(++i) & 0x03FF);\r\n            result[offset++] = (c >> 18) | 240;\r\n            result[offset++] = ((c >> 12) & 63) | 128;\r\n            result[offset++] = ((c >> 6) & 63) | 128;\r\n            result[offset++] = (c & 63) | 128;\r\n        }\r\n        else {\r\n            result[offset++] = (c >> 12) | 224;\r\n            result[offset++] = ((c >> 6) & 63) | 128;\r\n            result[offset++] = (c & 63) | 128;\r\n        }\r\n    }\r\n    return bytes_1.arrayify(result);\r\n}\r\nexports.toUtf8Bytes = toUtf8Bytes;\r\n;\r\n// http://stackoverflow.com/questions/13356493/decode-utf-8-with-javascript#13691499\r\nfunction toUtf8String(bytes) {\r\n    bytes = bytes_1.arrayify(bytes);\r\n    var result = '';\r\n    var i = 0;\r\n    // Invalid bytes are ignored\r\n    while (i < bytes.length) {\r\n        var c = bytes[i++];\r\n        if (c >> 7 == 0) {\r\n            // 0xxx xxxx\r\n            result += String.fromCharCode(c);\r\n            continue;\r\n        }\r\n        // Invalid starting byte\r\n        if (c >> 6 == 0x02) {\r\n            continue;\r\n        }\r\n        // Multibyte; how many bytes left for thus character?\r\n        var extraLength = null;\r\n        if (c >> 5 == 0x06) {\r\n            extraLength = 1;\r\n        }\r\n        else if (c >> 4 == 0x0e) {\r\n            extraLength = 2;\r\n        }\r\n        else if (c >> 3 == 0x1e) {\r\n            extraLength = 3;\r\n        }\r\n        else if (c >> 2 == 0x3e) {\r\n            extraLength = 4;\r\n        }\r\n        else if (c >> 1 == 0x7e) {\r\n            extraLength = 5;\r\n        }\r\n        else {\r\n            continue;\r\n        }\r\n        // Do we have enough bytes in our data?\r\n        if (i + extraLength > bytes.length) {\r\n            // If there is an invalid unprocessed byte, try to continue\r\n            for (; i < bytes.length; i++) {\r\n                if (bytes[i] >> 6 != 0x02) {\r\n                    break;\r\n                }\r\n            }\r\n            if (i != bytes.length)\r\n                continue;\r\n            // All leftover bytes are valid.\r\n            return result;\r\n        }\r\n        // Remove the UTF-8 prefix from the char (res)\r\n        var res = c & ((1 << (8 - extraLength - 1)) - 1);\r\n        var count;\r\n        for (count = 0; count < extraLength; count++) {\r\n            var nextChar = bytes[i++];\r\n            // Is the char valid multibyte part?\r\n            if (nextChar >> 6 != 0x02) {\r\n                break;\r\n            }\r\n            ;\r\n            res = (res << 6) | (nextChar & 0x3f);\r\n        }\r\n        if (count != extraLength) {\r\n            i--;\r\n            continue;\r\n        }\r\n        if (res <= 0xffff) {\r\n            result += String.fromCharCode(res);\r\n            continue;\r\n        }\r\n        res -= 0x10000;\r\n        result += String.fromCharCode(((res >> 10) & 0x3ff) + 0xd800, (res & 0x3ff) + 0xdc00);\r\n    }\r\n    return result;\r\n}\r\nexports.toUtf8String = toUtf8String;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}