{"ast":null,"code":"import _slicedToArray from\"D:/\\uACF5\\uD504\\uAE30/Capstone test/SafetyManagement_UI/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useEffect,useState}from\"react\";import{ListGroup,ListGroupItem,Row,Col,Form,FormInput,FormGroup,FormCheckbox,FormSelect,Button}from\"shards-react\";import Connection from'../../blockchain/connection';import\"../../\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"../../styles/shards-dashboards.1.1.0.min.css\";import{Link,useNavigate}from'react-router-dom';import moment from\"moment\";import Axios from'axios';import SignUp from'./SignUp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),inputId=_useState2[0],setinputId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),inputPw=_useState4[0],setinputPw=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),signup=_useState6[0],setsignup=_useState6[1];var navigate=useNavigate();var routeChange=function routeChange(){var path='/connect';navigate(path);};var onClickLogin=function onClickLogin(){Axios.post('http://localhost:3001/onLogin',null,{params:{'user_id':inputId,'user_pw':inputPw}}).then(function(res){console.log(res);if(res.data.msg)alert(res.data.msg);else{sessionStorage.setItem('user_id',inputId);sessionStorage.setItem('company',res.data.company);}document.location.href='/';}).catch();};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"auth-wrapper\",children:[\"\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"auth-inner\",children:[/*#__PURE__*/_jsx(Link,{to:'/',style:{textDecoration:\"none\"},children:/*#__PURE__*/_jsx(\"h2\",{style:{fontWeight:\"bold\"},children:\"\\xA0\\xA0\\xA0Safety Management\"})}),/*#__PURE__*/_jsx(\"br\",{}),signup?/*#__PURE__*/_jsx(SignUp,{}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ListGroup,{flush:true,children:/*#__PURE__*/_jsx(ListGroupItem,{className:\"p-3\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(FormInput,{id:\"feInputAddress\",size:\"lg\",placeholder:\"\\uC544\\uC774\\uB514\",onChange:function onChange(event){return setinputId(event.target.value);}})}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(FormInput,{type:\"password\",id:\"feInputAddress2\",size:\"lg\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:function onChange(event){return setinputPw(event.target.value);}})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{block:true,size:\"lg\",theme:\"secondary\",className:\"mb-1 mr-1\",onClick:onClickLogin,children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(Button,{block:true,size:\"lg\",theme:\"secondary\",className:\"mb-1 mr-1\",outline:true,onClick:function onClick(event){return setsignup(true);},children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})})})})})})]}),\"\\xA0\\xA0\\xA0\"]})]});}","map":{"version":3,"names":["React","useRef","useEffect","useState","ListGroup","ListGroupItem","Row","Col","Form","FormInput","FormGroup","FormCheckbox","FormSelect","Button","Connection","Link","useNavigate","moment","Axios","SignUp","Login","inputId","setinputId","inputPw","setinputPw","signup","setsignup","navigate","routeChange","path","onClickLogin","post","params","then","res","console","log","data","msg","alert","sessionStorage","setItem","company","document","location","href","catch","textDecoration","fontWeight","event","target","value"],"sources":["D:/공프기/Capstone test/SafetyManagement_UI/client/src/components/pages/Login.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\n\r\nimport {\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  FormInput,\r\n  FormGroup,\r\n  FormCheckbox,\r\n  FormSelect,\r\n  Button\r\n} from \"shards-react\";\r\n\r\nimport Connection from '../../blockchain/connection'\r\n\r\nimport \"../../\"\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"../../styles/shards-dashboards.1.1.0.min.css\"\r\n\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport moment from \"moment\";\r\nimport Axios from 'axios';\r\nimport SignUp from './SignUp'\r\n\r\nexport default function Login()  {\r\n    const [inputId, setinputId] = useState(\"\")\r\n    const [inputPw, setinputPw] = useState(\"\")\r\n    const [signup, setsignup] = useState(false)\r\n\r\n    let navigate = useNavigate();\r\n    const routeChange = () => {\r\n        let path = '/connect';\r\n        navigate(path);\r\n    }\r\n\r\n\r\n    const onClickLogin = () => {\r\n        Axios.post('http://localhost:3001/onLogin', null, {\r\n            params: {\r\n            'user_id': inputId,\r\n            'user_pw': inputPw\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res)\r\n            if(res.data.msg)\r\n                alert(res.data.msg);\r\n            else{\r\n                sessionStorage.setItem('user_id', inputId)\r\n                sessionStorage.setItem('company', res.data.company)\r\n            }\r\n            document.location.href = '/'\r\n        })\r\n        .catch()\r\n    }\r\n\r\n\r\n    return (\r\n    <div className=\"App\">\r\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n    <div className=\"auth-wrapper\">\r\n        &nbsp;&nbsp;&nbsp;\r\n        <div className=\"auth-inner\">\r\n        <Link to={'/'} style ={{textDecoration: \"none\"}}>\r\n        <h2 style ={{ \r\n                        fontWeight: \"bold\"\r\n                        }}>&nbsp;&nbsp;&nbsp;Safety Management</h2>\r\n        </Link>\r\n        <br></br>\r\n        {\r\n            signup ? <SignUp />\r\n            : \r\n            <div>\r\n            <ListGroup flush>\r\n            <ListGroupItem className=\"p-3\">\r\n                <Row>\r\n                    <Col>\r\n                        <form>\r\n                            <FormGroup>\r\n                                <FormInput id=\"feInputAddress\" size=\"lg\" placeholder=\"아이디\" onChange = {(event) => setinputId(event.target.value)}/>\r\n                            </FormGroup>\r\n\r\n                            <FormGroup>\r\n                                <FormInput\r\n                                type='password'\r\n                                id=\"feInputAddress2\"\r\n                                size=\"lg\"\r\n                                placeholder=\"비밀번호\"\r\n                                onChange = {(event) => setinputPw(event.target.value)}\r\n                                />\r\n                            </FormGroup>\r\n                            <br></br>\r\n                            <Button block size=\"lg\" theme=\"secondary\" className=\"mb-1 mr-1\" onClick={onClickLogin}>로그인</Button>\r\n                            \r\n                            <Button block size=\"lg\" theme=\"secondary\" className=\"mb-1 mr-1\" outline onClick={(event) => setsignup(true)}>\r\n                                회원가입\r\n                            </Button>\r\n                        </form>\r\n                    </Col>\r\n                </Row>\r\n            </ListGroupItem>\r\n        </ListGroup>\r\n        {/* <div className=\"login\">\r\n            <Button onClick={(event) => setsignup(true)}>\r\n                <p stlye ={{  left: \"50%\",\r\n                                top: \"69%\",\r\n                                transform: \"translate(-50%, -50%)\",\r\n                                position: \"absolute\",\r\n                                color: \"#5a6169\"}}>회원가입</p>\r\n            </Button>\r\n        </div> */}\r\n        </div>\r\n        }\r\n        \r\n      </div>\r\n      &nbsp;&nbsp;&nbsp;\r\n      </div>\r\n      </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}