{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar token = require('../token.js');\n\nvar encode$1 = require('../encode.js');\n\nvar common = require('../common.js');\n\nvar byteUtils = require('../byte-utils.js');\n\nclass JSONEncoder extends Array {\n  constructor() {\n    super();\n    this.inRecursive = [];\n  }\n\n  prefix(buf) {\n    const recurs = this.inRecursive[this.inRecursive.length - 1];\n\n    if (recurs) {\n      if (recurs.type === token.Type.array) {\n        recurs.elements++;\n\n        if (recurs.elements !== 1) {\n          buf.push([44]);\n        }\n      }\n\n      if (recurs.type === token.Type.map) {\n        recurs.elements++;\n\n        if (recurs.elements !== 1) {\n          if (recurs.elements % 2 === 1) {\n            buf.push([44]);\n          } else {\n            buf.push([58]);\n          }\n        }\n      }\n    }\n  }\n\n  [token.Type.uint.major](buf, token) {\n    this.prefix(buf);\n    const is = String(token.value);\n    const isa = [];\n\n    for (let i = 0; i < is.length; i++) {\n      isa[i] = is.charCodeAt(i);\n    }\n\n    buf.push(isa);\n  }\n\n  [token.Type.negint.major](buf, token$1) {\n    this[token.Type.uint.major](buf, token$1);\n  }\n\n  [token.Type.bytes.major](_buf, _token) {\n    throw new Error(`${common.encodeErrPrefix} unsupported type: Uint8Array`);\n  }\n\n  [token.Type.string.major](buf, token) {\n    this.prefix(buf);\n    const byts = byteUtils.fromString(JSON.stringify(token.value));\n    buf.push(byts.length > 32 ? byteUtils.asU8A(byts) : byts);\n  }\n\n  [token.Type.array.major](buf, _token) {\n    this.prefix(buf);\n    this.inRecursive.push({\n      type: token.Type.array,\n      elements: 0\n    });\n    buf.push([91]);\n  }\n\n  [token.Type.map.major](buf, _token) {\n    this.prefix(buf);\n    this.inRecursive.push({\n      type: token.Type.map,\n      elements: 0\n    });\n    buf.push([123]);\n  }\n\n  [token.Type.tag.major](_buf, _token) {}\n\n  [token.Type.float.major](buf, token$1) {\n    if (token$1.type.name === 'break') {\n      const recurs = this.inRecursive.pop();\n\n      if (recurs) {\n        if (recurs.type === token.Type.array) {\n          buf.push([93]);\n        } else if (recurs.type === token.Type.map) {\n          buf.push([125]);\n        } else {\n          throw new Error('Unexpected recursive type; this should not happen!');\n        }\n\n        return;\n      }\n\n      throw new Error('Unexpected break; this should not happen!');\n    }\n\n    if (token$1.value === undefined) {\n      throw new Error(`${common.encodeErrPrefix} unsupported type: undefined`);\n    }\n\n    this.prefix(buf);\n\n    if (token$1.type.name === 'true') {\n      buf.push([116, 114, 117, 101]);\n      return;\n    } else if (token$1.type.name === 'false') {\n      buf.push([102, 97, 108, 115, 101]);\n      return;\n    } else if (token$1.type.name === 'null') {\n      buf.push([110, 117, 108, 108]);\n      return;\n    }\n\n    const is = String(token$1.value);\n    const isa = [];\n    let dp = false;\n\n    for (let i = 0; i < is.length; i++) {\n      isa[i] = is.charCodeAt(i);\n\n      if (!dp && (isa[i] === 46 || isa[i] === 101 || isa[i] === 69)) {\n        dp = true;\n      }\n    }\n\n    if (!dp) {\n      isa.push(46);\n      isa.push(48);\n    }\n\n    buf.push(isa);\n  }\n\n}\n\nfunction mapSorter(e1, e2) {\n  if (Array.isArray(e1[0]) || Array.isArray(e2[0])) {\n    throw new Error(`${common.encodeErrPrefix} complex map keys are not supported`);\n  }\n\n  const keyToken1 = e1[0];\n  const keyToken2 = e2[0];\n\n  if (keyToken1.type !== token.Type.string || keyToken2.type !== token.Type.string) {\n    throw new Error(`${common.encodeErrPrefix} non-string map keys are not supported`);\n  }\n\n  if (keyToken1 < keyToken2) {\n    return -1;\n  }\n\n  if (keyToken1 > keyToken2) {\n    return 1;\n  }\n\n  throw new Error(`${common.encodeErrPrefix} unexpected duplicate map keys, this is not supported`);\n}\n\nconst defaultEncodeOptions = {\n  addBreakTokens: true,\n  mapSorter\n};\n\nfunction encode(data, options) {\n  options = Object.assign({}, defaultEncodeOptions, options);\n  return encode$1.encodeCustom(data, new JSONEncoder(), options);\n}\n\nexports.encode = encode;","map":{"version":3,"names":["Object","defineProperty","exports","value","token","require","encode$1","common","byteUtils","JSONEncoder","Array","constructor","inRecursive","prefix","buf","recurs","length","type","Type","array","elements","push","map","uint","major","is","String","isa","i","charCodeAt","negint","token$1","bytes","_buf","_token","Error","encodeErrPrefix","string","byts","fromString","JSON","stringify","asU8A","tag","float","name","pop","undefined","dp","mapSorter","e1","e2","isArray","keyToken1","keyToken2","defaultEncodeOptions","addBreakTokens","encode","data","options","assign","encodeCustom"],"sources":["C:/Users/mcnl/Desktop/gong/BlockchainSafetyManagement/client/node_modules/cborg/cjs/lib/json/encode.js"],"sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, '__esModule', { value: true });\r\n\r\nvar token = require('../token.js');\r\nvar encode$1 = require('../encode.js');\r\nvar common = require('../common.js');\r\nvar byteUtils = require('../byte-utils.js');\r\n\r\nclass JSONEncoder extends Array {\r\n  constructor() {\r\n    super();\r\n    this.inRecursive = [];\r\n  }\r\n  prefix(buf) {\r\n    const recurs = this.inRecursive[this.inRecursive.length - 1];\r\n    if (recurs) {\r\n      if (recurs.type === token.Type.array) {\r\n        recurs.elements++;\r\n        if (recurs.elements !== 1) {\r\n          buf.push([44]);\r\n        }\r\n      }\r\n      if (recurs.type === token.Type.map) {\r\n        recurs.elements++;\r\n        if (recurs.elements !== 1) {\r\n          if (recurs.elements % 2 === 1) {\r\n            buf.push([44]);\r\n          } else {\r\n            buf.push([58]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  [token.Type.uint.major](buf, token) {\r\n    this.prefix(buf);\r\n    const is = String(token.value);\r\n    const isa = [];\r\n    for (let i = 0; i < is.length; i++) {\r\n      isa[i] = is.charCodeAt(i);\r\n    }\r\n    buf.push(isa);\r\n  }\r\n  [token.Type.negint.major](buf, token$1) {\r\n    this[token.Type.uint.major](buf, token$1);\r\n  }\r\n  [token.Type.bytes.major](_buf, _token) {\r\n    throw new Error(`${ common.encodeErrPrefix } unsupported type: Uint8Array`);\r\n  }\r\n  [token.Type.string.major](buf, token) {\r\n    this.prefix(buf);\r\n    const byts = byteUtils.fromString(JSON.stringify(token.value));\r\n    buf.push(byts.length > 32 ? byteUtils.asU8A(byts) : byts);\r\n  }\r\n  [token.Type.array.major](buf, _token) {\r\n    this.prefix(buf);\r\n    this.inRecursive.push({\r\n      type: token.Type.array,\r\n      elements: 0\r\n    });\r\n    buf.push([91]);\r\n  }\r\n  [token.Type.map.major](buf, _token) {\r\n    this.prefix(buf);\r\n    this.inRecursive.push({\r\n      type: token.Type.map,\r\n      elements: 0\r\n    });\r\n    buf.push([123]);\r\n  }\r\n  [token.Type.tag.major](_buf, _token) {\r\n  }\r\n  [token.Type.float.major](buf, token$1) {\r\n    if (token$1.type.name === 'break') {\r\n      const recurs = this.inRecursive.pop();\r\n      if (recurs) {\r\n        if (recurs.type === token.Type.array) {\r\n          buf.push([93]);\r\n        } else if (recurs.type === token.Type.map) {\r\n          buf.push([125]);\r\n        } else {\r\n          throw new Error('Unexpected recursive type; this should not happen!');\r\n        }\r\n        return;\r\n      }\r\n      throw new Error('Unexpected break; this should not happen!');\r\n    }\r\n    if (token$1.value === undefined) {\r\n      throw new Error(`${ common.encodeErrPrefix } unsupported type: undefined`);\r\n    }\r\n    this.prefix(buf);\r\n    if (token$1.type.name === 'true') {\r\n      buf.push([\r\n        116,\r\n        114,\r\n        117,\r\n        101\r\n      ]);\r\n      return;\r\n    } else if (token$1.type.name === 'false') {\r\n      buf.push([\r\n        102,\r\n        97,\r\n        108,\r\n        115,\r\n        101\r\n      ]);\r\n      return;\r\n    } else if (token$1.type.name === 'null') {\r\n      buf.push([\r\n        110,\r\n        117,\r\n        108,\r\n        108\r\n      ]);\r\n      return;\r\n    }\r\n    const is = String(token$1.value);\r\n    const isa = [];\r\n    let dp = false;\r\n    for (let i = 0; i < is.length; i++) {\r\n      isa[i] = is.charCodeAt(i);\r\n      if (!dp && (isa[i] === 46 || isa[i] === 101 || isa[i] === 69)) {\r\n        dp = true;\r\n      }\r\n    }\r\n    if (!dp) {\r\n      isa.push(46);\r\n      isa.push(48);\r\n    }\r\n    buf.push(isa);\r\n  }\r\n}\r\nfunction mapSorter(e1, e2) {\r\n  if (Array.isArray(e1[0]) || Array.isArray(e2[0])) {\r\n    throw new Error(`${ common.encodeErrPrefix } complex map keys are not supported`);\r\n  }\r\n  const keyToken1 = e1[0];\r\n  const keyToken2 = e2[0];\r\n  if (keyToken1.type !== token.Type.string || keyToken2.type !== token.Type.string) {\r\n    throw new Error(`${ common.encodeErrPrefix } non-string map keys are not supported`);\r\n  }\r\n  if (keyToken1 < keyToken2) {\r\n    return -1;\r\n  }\r\n  if (keyToken1 > keyToken2) {\r\n    return 1;\r\n  }\r\n  throw new Error(`${ common.encodeErrPrefix } unexpected duplicate map keys, this is not supported`);\r\n}\r\nconst defaultEncodeOptions = {\r\n  addBreakTokens: true,\r\n  mapSorter\r\n};\r\nfunction encode(data, options) {\r\n  options = Object.assign({}, defaultEncodeOptions, options);\r\n  return encode$1.encodeCustom(data, new JSONEncoder(), options);\r\n}\r\n\r\nexports.encode = encode;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}