{"ast":null,"code":"var Buffer = require('safe-buffer').Buffer;\n\nvar Transform = require('stream').Transform;\n\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nvar inherits = require('inherits');\n\nfunction CipherBase(hashMode) {\n  Transform.call(this);\n  this.hashMode = typeof hashMode === 'string';\n\n  if (this.hashMode) {\n    this[hashMode] = this._finalOrDigest;\n  } else {\n    this.final = this._finalOrDigest;\n  }\n\n  if (this._final) {\n    this.__final = this._final;\n    this._final = null;\n  }\n\n  this._decoder = null;\n  this._encoding = null;\n}\n\ninherits(CipherBase, Transform);\n\nCipherBase.prototype.update = function (data, inputEnc, outputEnc) {\n  if (typeof data === 'string') {\n    data = Buffer.from(data, inputEnc);\n  }\n\n  var outData = this._update(data);\n\n  if (this.hashMode) return this;\n\n  if (outputEnc) {\n    outData = this._toString(outData, outputEnc);\n  }\n\n  return outData;\n};\n\nCipherBase.prototype.setAutoPadding = function () {};\n\nCipherBase.prototype.getAuthTag = function () {\n  throw new Error('trying to get auth tag in unsupported state');\n};\n\nCipherBase.prototype.setAuthTag = function () {\n  throw new Error('trying to set auth tag in unsupported state');\n};\n\nCipherBase.prototype.setAAD = function () {\n  throw new Error('trying to set aad in unsupported state');\n};\n\nCipherBase.prototype._transform = function (data, _, next) {\n  var err;\n\n  try {\n    if (this.hashMode) {\n      this._update(data);\n    } else {\n      this.push(this._update(data));\n    }\n  } catch (e) {\n    err = e;\n  } finally {\n    next(err);\n  }\n};\n\nCipherBase.prototype._flush = function (done) {\n  var err;\n\n  try {\n    this.push(this.__final());\n  } catch (e) {\n    err = e;\n  }\n\n  done(err);\n};\n\nCipherBase.prototype._finalOrDigest = function (outputEnc) {\n  var outData = this.__final() || Buffer.alloc(0);\n\n  if (outputEnc) {\n    outData = this._toString(outData, outputEnc, true);\n  }\n\n  return outData;\n};\n\nCipherBase.prototype._toString = function (value, enc, fin) {\n  if (!this._decoder) {\n    this._decoder = new StringDecoder(enc);\n    this._encoding = enc;\n  }\n\n  if (this._encoding !== enc) throw new Error('can\\'t switch encodings');\n\n  var out = this._decoder.write(value);\n\n  if (fin) {\n    out += this._decoder.end();\n  }\n\n  return out;\n};\n\nmodule.exports = CipherBase;","map":{"version":3,"names":["Buffer","require","Transform","StringDecoder","inherits","CipherBase","hashMode","call","_finalOrDigest","final","_final","__final","_decoder","_encoding","prototype","update","data","inputEnc","outputEnc","from","outData","_update","_toString","setAutoPadding","getAuthTag","Error","setAuthTag","setAAD","_transform","_","next","err","push","e","_flush","done","alloc","value","enc","fin","out","write","end","module","exports"],"sources":["D:/BlockchainSafetyManagement/client/node_modules/cipher-base/index.js"],"sourcesContent":["var Buffer = require('safe-buffer').Buffer\r\nvar Transform = require('stream').Transform\r\nvar StringDecoder = require('string_decoder').StringDecoder\r\nvar inherits = require('inherits')\r\n\r\nfunction CipherBase (hashMode) {\r\n  Transform.call(this)\r\n  this.hashMode = typeof hashMode === 'string'\r\n  if (this.hashMode) {\r\n    this[hashMode] = this._finalOrDigest\r\n  } else {\r\n    this.final = this._finalOrDigest\r\n  }\r\n  if (this._final) {\r\n    this.__final = this._final\r\n    this._final = null\r\n  }\r\n  this._decoder = null\r\n  this._encoding = null\r\n}\r\ninherits(CipherBase, Transform)\r\n\r\nCipherBase.prototype.update = function (data, inputEnc, outputEnc) {\r\n  if (typeof data === 'string') {\r\n    data = Buffer.from(data, inputEnc)\r\n  }\r\n\r\n  var outData = this._update(data)\r\n  if (this.hashMode) return this\r\n\r\n  if (outputEnc) {\r\n    outData = this._toString(outData, outputEnc)\r\n  }\r\n\r\n  return outData\r\n}\r\n\r\nCipherBase.prototype.setAutoPadding = function () {}\r\nCipherBase.prototype.getAuthTag = function () {\r\n  throw new Error('trying to get auth tag in unsupported state')\r\n}\r\n\r\nCipherBase.prototype.setAuthTag = function () {\r\n  throw new Error('trying to set auth tag in unsupported state')\r\n}\r\n\r\nCipherBase.prototype.setAAD = function () {\r\n  throw new Error('trying to set aad in unsupported state')\r\n}\r\n\r\nCipherBase.prototype._transform = function (data, _, next) {\r\n  var err\r\n  try {\r\n    if (this.hashMode) {\r\n      this._update(data)\r\n    } else {\r\n      this.push(this._update(data))\r\n    }\r\n  } catch (e) {\r\n    err = e\r\n  } finally {\r\n    next(err)\r\n  }\r\n}\r\nCipherBase.prototype._flush = function (done) {\r\n  var err\r\n  try {\r\n    this.push(this.__final())\r\n  } catch (e) {\r\n    err = e\r\n  }\r\n\r\n  done(err)\r\n}\r\nCipherBase.prototype._finalOrDigest = function (outputEnc) {\r\n  var outData = this.__final() || Buffer.alloc(0)\r\n  if (outputEnc) {\r\n    outData = this._toString(outData, outputEnc, true)\r\n  }\r\n  return outData\r\n}\r\n\r\nCipherBase.prototype._toString = function (value, enc, fin) {\r\n  if (!this._decoder) {\r\n    this._decoder = new StringDecoder(enc)\r\n    this._encoding = enc\r\n  }\r\n\r\n  if (this._encoding !== enc) throw new Error('can\\'t switch encodings')\r\n\r\n  var out = this._decoder.write(value)\r\n  if (fin) {\r\n    out += this._decoder.end()\r\n  }\r\n\r\n  return out\r\n}\r\n\r\nmodule.exports = CipherBase\r\n"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,aAAD,CAAP,CAAuBD,MAApC;;AACA,IAAIE,SAAS,GAAGD,OAAO,CAAC,QAAD,CAAP,CAAkBC,SAAlC;;AACA,IAAIC,aAAa,GAAGF,OAAO,CAAC,gBAAD,CAAP,CAA0BE,aAA9C;;AACA,IAAIC,QAAQ,GAAGH,OAAO,CAAC,UAAD,CAAtB;;AAEA,SAASI,UAAT,CAAqBC,QAArB,EAA+B;EAC7BJ,SAAS,CAACK,IAAV,CAAe,IAAf;EACA,KAAKD,QAAL,GAAgB,OAAOA,QAAP,KAAoB,QAApC;;EACA,IAAI,KAAKA,QAAT,EAAmB;IACjB,KAAKA,QAAL,IAAiB,KAAKE,cAAtB;EACD,CAFD,MAEO;IACL,KAAKC,KAAL,GAAa,KAAKD,cAAlB;EACD;;EACD,IAAI,KAAKE,MAAT,EAAiB;IACf,KAAKC,OAAL,GAAe,KAAKD,MAApB;IACA,KAAKA,MAAL,GAAc,IAAd;EACD;;EACD,KAAKE,QAAL,GAAgB,IAAhB;EACA,KAAKC,SAAL,GAAiB,IAAjB;AACD;;AACDT,QAAQ,CAACC,UAAD,EAAaH,SAAb,CAAR;;AAEAG,UAAU,CAACS,SAAX,CAAqBC,MAArB,GAA8B,UAAUC,IAAV,EAAgBC,QAAhB,EAA0BC,SAA1B,EAAqC;EACjE,IAAI,OAAOF,IAAP,KAAgB,QAApB,EAA8B;IAC5BA,IAAI,GAAGhB,MAAM,CAACmB,IAAP,CAAYH,IAAZ,EAAkBC,QAAlB,CAAP;EACD;;EAED,IAAIG,OAAO,GAAG,KAAKC,OAAL,CAAaL,IAAb,CAAd;;EACA,IAAI,KAAKV,QAAT,EAAmB,OAAO,IAAP;;EAEnB,IAAIY,SAAJ,EAAe;IACbE,OAAO,GAAG,KAAKE,SAAL,CAAeF,OAAf,EAAwBF,SAAxB,CAAV;EACD;;EAED,OAAOE,OAAP;AACD,CAbD;;AAeAf,UAAU,CAACS,SAAX,CAAqBS,cAArB,GAAsC,YAAY,CAAE,CAApD;;AACAlB,UAAU,CAACS,SAAX,CAAqBU,UAArB,GAAkC,YAAY;EAC5C,MAAM,IAAIC,KAAJ,CAAU,6CAAV,CAAN;AACD,CAFD;;AAIApB,UAAU,CAACS,SAAX,CAAqBY,UAArB,GAAkC,YAAY;EAC5C,MAAM,IAAID,KAAJ,CAAU,6CAAV,CAAN;AACD,CAFD;;AAIApB,UAAU,CAACS,SAAX,CAAqBa,MAArB,GAA8B,YAAY;EACxC,MAAM,IAAIF,KAAJ,CAAU,wCAAV,CAAN;AACD,CAFD;;AAIApB,UAAU,CAACS,SAAX,CAAqBc,UAArB,GAAkC,UAAUZ,IAAV,EAAgBa,CAAhB,EAAmBC,IAAnB,EAAyB;EACzD,IAAIC,GAAJ;;EACA,IAAI;IACF,IAAI,KAAKzB,QAAT,EAAmB;MACjB,KAAKe,OAAL,CAAaL,IAAb;IACD,CAFD,MAEO;MACL,KAAKgB,IAAL,CAAU,KAAKX,OAAL,CAAaL,IAAb,CAAV;IACD;EACF,CAND,CAME,OAAOiB,CAAP,EAAU;IACVF,GAAG,GAAGE,CAAN;EACD,CARD,SAQU;IACRH,IAAI,CAACC,GAAD,CAAJ;EACD;AACF,CAbD;;AAcA1B,UAAU,CAACS,SAAX,CAAqBoB,MAArB,GAA8B,UAAUC,IAAV,EAAgB;EAC5C,IAAIJ,GAAJ;;EACA,IAAI;IACF,KAAKC,IAAL,CAAU,KAAKrB,OAAL,EAAV;EACD,CAFD,CAEE,OAAOsB,CAAP,EAAU;IACVF,GAAG,GAAGE,CAAN;EACD;;EAEDE,IAAI,CAACJ,GAAD,CAAJ;AACD,CATD;;AAUA1B,UAAU,CAACS,SAAX,CAAqBN,cAArB,GAAsC,UAAUU,SAAV,EAAqB;EACzD,IAAIE,OAAO,GAAG,KAAKT,OAAL,MAAkBX,MAAM,CAACoC,KAAP,CAAa,CAAb,CAAhC;;EACA,IAAIlB,SAAJ,EAAe;IACbE,OAAO,GAAG,KAAKE,SAAL,CAAeF,OAAf,EAAwBF,SAAxB,EAAmC,IAAnC,CAAV;EACD;;EACD,OAAOE,OAAP;AACD,CAND;;AAQAf,UAAU,CAACS,SAAX,CAAqBQ,SAArB,GAAiC,UAAUe,KAAV,EAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;EAC1D,IAAI,CAAC,KAAK3B,QAAV,EAAoB;IAClB,KAAKA,QAAL,GAAgB,IAAIT,aAAJ,CAAkBmC,GAAlB,CAAhB;IACA,KAAKzB,SAAL,GAAiByB,GAAjB;EACD;;EAED,IAAI,KAAKzB,SAAL,KAAmByB,GAAvB,EAA4B,MAAM,IAAIb,KAAJ,CAAU,yBAAV,CAAN;;EAE5B,IAAIe,GAAG,GAAG,KAAK5B,QAAL,CAAc6B,KAAd,CAAoBJ,KAApB,CAAV;;EACA,IAAIE,GAAJ,EAAS;IACPC,GAAG,IAAI,KAAK5B,QAAL,CAAc8B,GAAd,EAAP;EACD;;EAED,OAAOF,GAAP;AACD,CAdD;;AAgBAG,MAAM,CAACC,OAAP,GAAiBvC,UAAjB"},"metadata":{},"sourceType":"script"}